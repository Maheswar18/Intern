<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JavaScript Form validation</title>
<link rel="stylesheet" href="style.css">

<script>

var arr=[];
var ema=[];

function datagetter()
{
   
    
    
    var d=document.querySelector('ul');
    for(var i=0;i<window.arr.length;i++)
    {var dl=document.createElement('li');
var hp=document.createTextNode(arr[i]);
dl.appendChild(hp);
d.appendChild(dl);
}
}
    
 

// Defining a function to display error message




function printError(elemId, hintMsg) {
    document.getElementById(elemId).innerHTML = hintMsg;
}


 function ag(event)
    {
        var tc=document.querySelector('.age11')
        var d=event.target.value;
        var today = new Date();
    var birthDate = new Date(d);
    var age = today.getFullYear() - birthDate.getFullYear();
    var m = today.getMonth() - birthDate.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    tc.value=age;
    console.log(age);

    }
// Defining a function to validate form 
function validateForm() {

    // Retrieving the values of form elements 
    var name = document.contactForm.name.value;
    var email = document.contactForm.email.value;
    var mobile = document.contactForm.mobile.value;
    var age=document.contactForm.age.value;console.log(age)    
    // Defining error variables with a default value
    var nameErr = emailErr = mobileErr = true;
    
    // Validate name
    if(name == "" || name.length<3 || name.length>10) {
        printError("nameErr", "Please enter valid name");
        } else {
            printError("nameErr", "");
            nameErr = false;
           //store in local storage names 
        }
    

    // Validate email address
  if(email == "") {
        printError("emailErr", "Please enter your email address");
    } else {
        
        
       
            printError("emailErr", "");

            emailErr = false;
        
    }
    

    // Validate mobile number
  if(mobile == "") {
        printError("mobileErr", "");mobileErr = false;
    } else {
            if(mobile.length!=10)
           { printError("mobileErr", "length should be 10 or null");}
       else
           { mobileErr = false;}
        
    }

    ageerr=false;
   var d=age;
           var today = new Date();
       var birthDate = new Date(d);
       var age = today.getFullYear() - birthDate.getFullYear();
       var m = today.getMonth() - birthDate.getMonth();
       if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
           age--;
       }
   
      if(age.length==0){ageerr=true;  printError("ageErr", "plz selct age");}
       if(age<18){ageerr=true;  printError("ageErr", "age should be greater than 18");}
   
   if((nameErr || emailErr || mobileErr|| ageerr) != true) {
       window.arr.push(name);
       datagetter()
    
    } 
    // Prevent the form from being submitted if there are any errors
    if((nameErr || emailErr || mobileErr|| ageerr) == true) {
       return false;
    } 
    

   
};
</script>
</head>
<body  onload="datagetter()">
    <div class="left">
user register
<ul class='left12'><li>lp</li></ul>
    
</div>

    <div class="right">
<form name="contactForm" onsubmit="return validateForm()" action="in.php" method="post">
    <h2>Application Form</h2>
    <div class="row">
        <label>Full Name</label>
        <input type="text" name="name">
        <div class="error" id="nameErr"></div>
    </div>
    <div class="row">
        <label>Email Address</label>
        <input type="text" name="email">
        <div class="error" id="emailErr"></div>
    </div>
    <div class="row">
        <label>Mobile Number</label>
        <input type="text" name="mobile" maxlength="10">
        <div class="error" id="mobileErr"></div>
    </div>
  <div class="row r1">
    <div class="in">
        <label>AGE</label>
        <input type="date" name="age" class='age1'maxlength="10" style="width:90%" onchange="ag(event)"></div>
       <div class="in"> <label>AGE IN YEARS</label>
        <input type='text' name='age11' class='age11' style="width: 40px" value="0" disabled="true"></div>
        
    </div>
    <div class="error" id="ageErr"></div>
    <div class="row">
        <input type="submit" value="Submit">
    </div>

</form>
</div>


</body>
</html>
